<template>
  <span class="weather-icon" :title="condition">{{ weatherIcon }}</span>
</template>

<script>
import { computed } from "vue";

export default {
  props: {
    condition: {
      type: String,
      required: true,
    },
  },
  setup(props) {
    const weatherIcons = {
      "c√©u limpo": "‚òÄÔ∏è",
      "algumas nuvens": "‚õÖ",
      "nublado": "‚òÅÔ∏è",
      "nuvens dispersas": "üå•Ô∏è",
      "nuvens quebradas": "üå§Ô∏è",
      "neblina": "üå´Ô∏è",
      "n√©voa": "üå´Ô∏è",
      "nevoeiro": "üå´Ô∏è",
      "chuvisco": "üå¶Ô∏è",
      "garoa": "üå¶Ô∏è",
      "chuva fraca": "üåßÔ∏è",
      "chuva moderada": "üåßÔ∏è",
      "chuva forte": "üåßÔ∏èüåßÔ∏è",
      "tempestade": "‚õàÔ∏è",
      "trovoada": "‚õàÔ∏è",
      "trovoadas com chuva leve": "‚õàÔ∏èüåßÔ∏è",
      "trovoadas com chuva forte": "‚õàÔ∏èüåßÔ∏èüåßÔ∏è",
      "granizo": "üå®Ô∏èüßä",
      "neve leve": "üå®Ô∏è",
      "neve moderada": "‚ùÑÔ∏èüå®Ô∏è",
      "neve forte": "‚ùÑÔ∏è‚ùÑÔ∏è",
      "chuva congelante": "üåßÔ∏è‚ùÑÔ∏è",
      "vento forte": "üí®",
      "tornado": "üå™Ô∏è",
      "areia": "üèúÔ∏è",
      "poeira": "üå™Ô∏è",
      "fuma√ßa": "üå´Ô∏èüî•",
    };

    const weatherIcon = computed(() => {
      const lowercaseCondition = props.condition.toLowerCase();

      for (const [key, icon] of Object.entries(weatherIcons)) {
        if (lowercaseCondition.includes(key)) {
          return icon;
        }
      }

      return "‚ùì";
    });

    return { weatherIcon };
  },
};
</script>

<style scoped>
.weather-icon {
  font-size: 1.5em;
  line-height: 1;
  margin-left: 5px;
}
</style>